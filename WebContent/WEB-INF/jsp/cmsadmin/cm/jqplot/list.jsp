<%--/*=================================================================================*//* 시스템            : JRCMS 시스템 SYSTEM/* 프로그램 아이디   : /* 프로그램 이름     : list    /* 소스파일 이름     : list.jsp/* 설명              : SYSTEM jqplot 샘플인페이지/* 버전              : 1.0.0/* 최초 작성자       : 이금용/* 최초 작성일자     : 2014-02-05/* 최근 수정자       : 이금용/* 최근 수정일시     : 2014-02-05/* 최종 수정내용     : 최초작성/*=================================================================================*/--%><%@page pageEncoding="utf-8"%><script type="text/javascript">$(document).ready(function(){	var barchart = new Array();	var line1 = new Array();	var line2 = new Array();	var line3 = new Array();	var line4 = new Array();	var line5 = new Array();	var line6 = new Array();	var line7 = new Array();	var line8 = new Array();	var line9 = new Array();	var line10 = new Array();	var params = ParamDatas();	params.pstate = 'X';	 $.ajax({         type: "post",         url: "/cmsajax.do",         data: params,         async: false,         dataType:"json",         success: function(data){        	 barchart  = data.barchart;        	 line1  = data.line1;         	 line2  = data.line2;         	 line3  = data.line3;         	 line4  = data.line4;         	 line5  = data.line5;         	 line6  = data.line6;         	 line7  = data.line7;         	 line8  = data.line8;         	 line9  = data.line9;         	 line10 = data.line10;         }  });	 	 $.jqplot.config.enablePlugins = true;    var plot1 = $.jqplot('chart1', [barchart], {        // Only animate if we're not using excanvas (not in IE 7 or IE 8)..        title: 'BAR CHART',        animate: true,         seriesDefaults:{            renderer:$.jqplot.BarRenderer,            rendererOptions: {                varyBarColor: true            }        },        axes:{            xaxis:{                renderer: $.jqplot.CategoryAxisRenderer            }        }    });        var plot2 = $.jqplot('pie1', [barchart], {    	title: 'PIE CHART',        grid: {            drawBorder: false,             drawGridlines: false,            background: '#ffffff',            shadow:false        },        axesDefaults: {                     },        seriesDefaults:{            renderer:$.jqplot.PieRenderer,            rendererOptions: {                showDataLabels: true            }        },        legend: {            show: true,            location: 'e',            placement: 'outside'        }          });             var plot3 = $.jqplot('chart3', [line1, line2, line3, line4,line5,line6,line7,line8,line9,line10],     	    {     	      title:'LINE CHART',     	      // Set default options on all series, turn on smoothing.    	      seriesDefaults: {    	          rendererOptions: {    	              smooth: true    	          }    	      },    	        grid: {    	            background: 'rgba(57,57,57,0.0)',    	            drawBorder: false,    	            shadow: false,    	            gridLineColor: '#666666',    	            gridLineWidth: 2    	        },    	      // Series options are specified as an array of objects, one object    	      // for each series.    	      series:[     	          {    	            // Change our line width and use a diamond shaped marker.    	            lineWidth:2,     	            markerOptions: { style:'dimaond' }    	          },     	          {    	            // Don't show a line, just show markers.    	            // Make the markers 7 pixels with an 'x' style    	            showLine:false,     	            markerOptions: { size: 7, style:"x" }    	          },    	          {     	            // Use (open) circlular markers.    	            markerOptions: { style:"circle" }    	          },     	          {    	            // Use a thicker, 5 pixel line and 10 pixel    	            // filled square markers.    	            lineWidth:4,     	            markerOptions: { style:"filledSquare", size:10 }    	          }    	      ]    	    }    	  );            $('#chart1').bind('jqplotDataClick',             function (ev, seriesIndex, pointIndex, data) {                $('#info1').html('series: '+seriesIndex+', point: '+pointIndex+', data: '+data);            }        );        $('#pie1').bind('jqplotDataClick',         function (ev, seriesIndex, pointIndex, data) {            $('#info1').html('series: '+seriesIndex+', point: '+pointIndex+', data: '+data);        }    );        });//그리드 조회시 요청할 파라미터 objectfunction ParamDatas(){	var _params = com.frm.getParamJSON(document.listfrm);	return _params;}function Go_srchCheck(){	refreshGrid();}function test(){	  var divGraph = $('#chart3').jqplotToImageStr({});	  var divElem  = $('<img/>').attr('src', divGraph);	  //$('#'+graphd).html() =="";	  //$('#'+graphd).html(divElem);	  var imgsrc = divElem[0].src;	  imgsrc = imgsrc.split(',')[1];	  alert(imgsrc);	  $("#jqplotimage").html(divElem);	  	  open(divGraph.toDataURL("image/png"));}</script><form name="listfrm" method="post" onSubmit='return false;Go_search();' >        <input type="hidden" name="scode" value="<%=scode%>" title="사이트코드" /><input type="hidden" name="pcode" value="<%=pcode%>" title="페이지코드"  /><input type="hidden" name="pstate" value="<%=pstate%>" title="페이지상태"  /><input type="hidden" name="curr_page" value="<%=curr_page%>" title="현재페이지번호"  /><input type="hidden" name="show_rows" value="<%=show_rows%>" title="현재페이지당데이터수"  /><input type="hidden" name="sidx" value="" title="선택된인덱스" /><table class="tbl_search">        <tr>                        <td align="right" class="aC vB">            	<span style="float:right;" class="btn_pack largeG"><a onclick="createChartimage('chart3','chart4'); return false;" href="#" style="cursor:pointer" >line chart</a></span>            	<span style="float:right;" class="btn_pack largeG"><a onclick="createChartimage('pie1','chart4'); return false;" href="#" style="cursor:pointer" >pie chart</a></span>            	<span style="float:right;" class="btn_pack largeG"><a onclick="createChartimage('chart1','chart4'); return false;" href="#" style="cursor:pointer" >bar chart</a></span>            	<span style="float:right;" class="btn_pack largeG"><a onclick="test(); return false;" href="#" style="cursor:pointer" >12312312312</a></span>            </td>            </tr>    </table>  <table><table class="tbl_search">    <tr>    <td><div id="chart1" style="height:400px;width:800px; "></div> </td>    </tr>    <tr>    <td><textarea id="jqplotimage" name="jqplotimage" style="height:600px;width:800px; "></textarea> </td>    </tr>        <tr>    <td><div id="chart4" style="height:600px;width:800px; "></div> </td>    </tr>    <tr>    <td><div id="pie1" style="height:400px;width:800px; "></div> </td>    </tr>    <tr>    <td><div id="chart3" style="height:600px;width:800px; "></div> </td>    </tr></table>    </form></div>