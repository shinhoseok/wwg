<%--/*=================================================================================*//* 시스템            : JRCMS 시스템 SYSTEM/* 프로그램 아이디   : /* 프로그램 이름     : jicm_abd_010_r1    /* 소스파일 이름     : jicm_abd_010_r1.jsp/* 설명              : SYSTEM 게시판관리 상세조회페이지/* 버전              : 1.0.0/* 최초 작성자       : 이금용/* 최초 작성일자     : 2016-11-16/* 최근 수정자       : 이금용/* 최근 수정일시     : 2016-11-16/* 최종 수정내용     : 최초작성/*=================================================================================*/--%><%@page pageEncoding="utf-8"%><div class="supply_box">	<div class="board_A0_W">		<table class="defaultTable02">			<caption>게시판 상세조회</caption>			<colgroup>				<col width="10%">				<col width="40%">				<col width="10%">				<col width="40%">			</colgroup>			<thead>			</thead>			<tbody>				<tr>					<th>제목</th>					<td colspan="3"><c:out value="${R_MAP.resultVO.dataTitle}" /></td>				</tr>				<tr>					<th>작성자</th>					<td><c:if test="${empty R_MAP.resultVO.regNm}">-</c:if><c:out value="${R_MAP.resultVO.regNm}" /></td>					<th>작성일</th>					<td>2020-06-09</td>				</tr>				<tr>					<th>첨부파일</th>					<td colspan="3">						<c:choose>							<c:when test="${fn:length(R_MAP.fileList) != 0}">								<c:forEach var="list" items="${R_MAP.fileList}" varStatus="status">									<c:forTokens var="tokens" items="${list.fileNm}" delims="." varStatus="status2">										<c:if test="${status2.last}">											<c:set var="fileExt" value="${fn:toLowerCase(tokens)}" />											<c:choose>												<c:when test="${fileExt eq 'xls' || fileExt eq 'xlsx'}">													<c:set var="fileCss" value="excel_file" />												</c:when>												<c:when test="${fileExt eq 'pdf'}">													<c:set var="fileCss" value="pdf" />												</c:when>												<c:when test="${fileExt eq 'doc' || fileExt eq 'docs'}">													<c:set var="fileCss" value="doc" />												</c:when>												<c:when test="${fileExt eq 'ppt' || fileExt eq 'ppts' || fileExt eq 'pptx'}">													<c:set var="fileCss" value="ppt" />												</c:when>												<c:when test="${fileExt eq 'hwp'}">													<c:set var="fileCss" value="hwp" />												</c:when>													<c:when test="${fileExt eq 'gif'}">													<c:set var="fileCss" value="gif" />												</c:when>													<c:when test="${fileExt eq 'png'}">													<c:set var="fileCss" value="png" />												</c:when>													<c:when test="${fileExt eq 'jpg'}">													<c:set var="fileCss" value="jpg" />												</c:when>												<c:when test="${fileExt eq 'jpeg'}">													<c:set var="fileCss" value="jpeg" />												</c:when>												<c:when test="${fileExt eq 'txt'}">													<c:set var="fileCss" value="txt" />												</c:when>													<c:when test="${fileExt eq 'word'}">													<c:set var="fileCss" value="word" />												</c:when>													<c:when test="${fileExt eq 'zip'}">													<c:set var="fileCss" value="zip" />												</c:when>													<c:otherwise>													<c:set var="fileCss" value="none" />												</c:otherwise>																																																																											</c:choose>										</c:if>									</c:forTokens>									<a href="javascript:void(0);" class="attachFile <c:out value='${fileCss}'/>" onclick="javascript:fn_fileDownload('<c:out value="${list.fileSeqNo}"/>');" class="attachFile hwp ellipsis" ><c:out value="${list.fileNm}"/></a>								</c:forEach>							</c:when>							<c:otherwise>								등록된 첨부파일이 없습니다.							</c:otherwise>						</c:choose>					</td>				</tr>				<tr>					<td colspan="4">						<div style="min-height: 150px;">							<c:if test="${empty R_MAP.resultVO.dataDesc}">-</c:if><span class="title"><c:out escapeXml="false" value="${R_MAP.resultVO.dataDesc}" /></span>						</div>					</td>				</tr>			</tbody>		</table>	</div>	<div class="button a_r mat_30">		<a class="btn_1 size_n" onclick="javascript:fn_updateBoard();" href="javascript:void(0);">수정</a>		<a class="btn_1 size_n" onclick="javascript:fn_deleteBoardProc();" href="javascript:void(0);">삭제</a>		<a class="btn_2 size_n" onclick="javascript:fn_selectBoardList();" href="javascript:void(0);">목록</a>	</div>	<c:if test="${pcode eq '000100'}"> <!-- Q&A -->		<h4 class="tableTitle mt40"><span class="num pointB" id="commentCntTarget">0</span>개의 답글</h4>		<ul class="comment">			<li>				<p class="name"><c:out value="${sessionScope.SITE_ADM_SESS.USER_NM}"/></p>				<div class="comment_input">					<label for="comment_input"></label>					<textarea id="cmtSj" onfocus="checker(this, 200, 'nbytes_cmtSj');" onblur="stopchecker();"></textarea>					<span class="max_leng"><em id="nbytes_cmtSj" class="count">0</em>/200</span>				</div>				<div class="btnArea bottom" style="text-align: right;">					<span class="btn_pack large" style="margin-top: 2px;"><a href="javascript:void(0);" onclick="javascript:fn_insertBoardReviewProc('<c:out value="${R_MAP.resultVO.dataSeqno}" />');">답글 등록</a></span>				</div>			</li>		</ul>		<ul class="comment cm_list" id="commentListTarget"></ul>	</c:if>	<c:if test="${pcode eq '000091'}"> <!-- 지원사업공고 -->		<div class="cts_mid" style="margin-top: 3%;" id="gongGoTarget"></div>	</c:if></div><form method="post" name="detailForm" id="detailForm" action="<c:out value='${basePath}'/>/cmsmain.do">	<input type="hidden" 	id="scode"  					name="scode" 				value="<c:out value='${scode}'/>" title="사이트코드" />	<input type="hidden" 	id="pcode"  					name="pcode" 				value="<c:out value='${pcode}'/>" title="페이지코드" />	<input type="hidden" 	id="pstate"  					name="pstate" 				value="<c:out value='${pstate}'/>" title="페이지상태" />	<input type="hidden" 	id="pageIndex" 					name="pageIndex" 			value="<c:out value='${R_MAP.param.pageIndex}'/>"/>	<input type="hidden" 	id="searchGubun" 				name="searchGubun" 			value="<c:out value='${R_MAP.param.searchGubun}'/>" />	<input type="hidden" 	id="searchValue" 				name="searchValue" 			value="<c:out value='${R_MAP.param.searchValue}'/>" />	<input type="hidden" 	id="dataSeqno" 					name="dataSeqno" 			value="<c:out value="${R_MAP.resultVO.dataSeqno}"/>"/></form><script src="<c:out value='${scriptPath}'/>/validation/common.js"></script><script src="<c:out value='${scriptPath}'/>/validation/validation.js"></script><script>$(function() {	var pcode = "<c:out value='${pcode}'/>";	if(pcode === "000100") { //Q&A		//댓글리스트		fn_selectBoardReviewList('<c:out value="${R_MAP.resultVO.dataSeqno}"/>');	} else if(pcode === "000091") { //지원사업공고		fn_selectGongGoList('<c:out value="${R_MAP.resultVO.dataSeqno}"/>');	}	});//파일다운로드var fn_fileDownload = function(fileSeqNo) {	if(fileSeqNo == null || fileSeqNo == "" || fileSeqNo == "undefined") {		alert("파일 정보가 올바르지 않습니다. \n관리자에게 문의 바랍니다.");		return;	}	location.href="<c:out value='${basePath}'/>/file/fileDownload.do?fileSeqNo="+fileSeqNo;}var fn_selectBoardList = function(gubun) {	$("#detailForm #pstate").val("L");	$("#detailForm").submit();};var fn_deleteBoardProc = function() {	if(confirm("삭제 하시겠습니까?")) {		var frm = document.detailForm;		frm.pstate.value="D";		frm.submit();	}};var fn_updateBoard = function() {	var frm = document.detailForm;	frm.pstate.value="UF";	frm.submit();};//답글 등록var fn_insertBoardReviewProc = function(dataSeqno) {	if (!TypeChecker.required($("#cmtSj").val())) {		alert("'답글'은  "+ TypeChecker.requiredText);		$("#cmtSj").focus();		return;	}	var params = {};	params.dataDesc = $("#cmtSj").val();	params.dataOriginNo = dataSeqno;	params.dataTitle = "[답글] <c:out value='${R_MAP.resultVO.dataTitle}'/>";	params.menuCd = "<c:out value='${pcode}'/>";	$.ajax({ 			url: "<c:out value='${basePath}'/>/admin/board/insertBoardReviewProc.do",		type: 'POST',		dataType : "json",		data : params,		error: function(){			 alert("현재 등록 서비스가 원활하지 않습니다.\n관리자에게 문의주시기 바랍니다.");			 return;		},		success: function(r) {			alert("등록되었습니다.");			$("#cmtSj").val("");			fn_selectBoardReviewList(dataSeqno);		}	});};//답글리스트var fn_selectBoardReviewList = function(dataSeqno) {	var params = {};	params.dataOriginNo = dataSeqno;	params.menuCd = "<c:out value='${pcode}'/>";	$.ajax({		url: "<c:out value='${basePath}'/>/admin/board/selectBoardReviewList.do",		type: 'POST',		dataType : "html",		data : params,		error: function(){			 alert("현재 조회 서비스가 원활하지 않습니다.\n관리자에게 문의주시기 바랍니다.");			 return;		},		success: function(r) {			$("#commentListTarget").children().remove();			$("#commentListTarget").html(r);		}	});};//공고리스트var fn_selectGongGoList = function(dataSeqno) {	var params = {};	params.dataOriginNo = dataSeqno;	params.menuCd = "<c:out value='${pcode}'/>";	$.ajax({		url: "<c:out value='${basePath}'/>/admin/board/selectGongGoList.do",		type: 'POST',		dataType : "html",		data : params,		error: function(){			 alert("현재 조회 서비스가 원활하지 않습니다.\n관리자에게 문의주시기 바랍니다.");			 return;		},		success: function(r) {			$("#gongGoTarget").children().remove();			$("#gongGoTarget").html(r);		}	});};</script>