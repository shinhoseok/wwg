<%--/*=================================================================================*//* 시스템            : JRCMS 시스템 SYSTEM/* 프로그램 아이디   : /* 프로그램 이름     : jicm_abd_010_r1    /* 소스파일 이름     : jicm_abd_010_r1.jsp/* 설명              : SYSTEM 게시판관리 상세페이지/* 버전              : 1.0.0/* 최초 작성자       : 이금용/* 최초 작성일자     : 2016-11-16/* 최근 수정자       : 이금용/* 최근 수정일시     : 2016-11-16/* 최종 수정내용     : 최초작성/*=================================================================================*/--%><%@page pageEncoding="utf-8"%><style type="text/css">.tableA thead tr{background: #eef1f2;}.tableA tr{border-bottom: 1px solid #ccc;height: 50px;}.info_list .tableA thead tr:nth-child(2){background: #eef1f2;}.noticeView .tableA thead tr:nth-child(2){border-bottom: 1px solid #ccc;height: 50px;}</style><script language="javascript" src="<%=con_root%>/js/com-file.js"></script><script type="text/javascript" src="<%=con_root%>/js/jquery.form.min.js"  charset="utf-8"></script><%List code_select_List = new ArrayList(); // 셀렉트박스 생성용 코드리스트List getABDFiles = new ArrayList(); // 첨부파일정보Map rtn_row_map2 = new HashMap();List getABDRR = new ArrayList(); // 댓글리스트정보Map getABDRE = new HashMap();// 답글정보List getABDREFiles = new ArrayList(); // 답글첨부파일정보int j = 0;int k = 0;int rIDX		= 0;String rM_CODE	= "";String rM_NM 	= "";String rREG_DT	= "";String rMOD_DT	= "";  String rREG_ID	= "";String rMOD_ID	= "";String rB_TITLE	= "";	String rB_CONTENTS	= "";int rREAD_CNT	= 0;int rR_IDX	= 0;int rR_DEPTH	= 0;String rPASSWD	= "";String rGESI_FL	= "";String rGESI_FL_NM	= "";String rREG_NAME	= "";String rREG_MAIL	= "@";String rB_SDATE	= "";String rB_EDATE	= "";String rREG_TEL	= "";String rREG_HAND	= "";String rREG_IP	= "";String rREG_PHOTO_ALT	= "";String rREG_SVNUMBER	= "";String [] rB_ETC_ARR	= new String[10];String rFILE_NMS	= "";String [] rREG_MAIL_sp	= null;String [] rFILE_NMS_arr = null;String rIPIN_NO = "";String rDUPL_INFO = "";String rAUTH_TYPE = "";String display_none = "";String fext = "";  // 파일 확장자String reREG_NAME = "";String sUSER_ID = "";//답변글String rrB_TITLE = "";String rrREG_NAME = "";String rrREG_DT	= "";String rrB_CONTENTS	= "";	rtn_row_Map = (Map)rtn_Map.get("getABD"); // 조회된 상세내용	getABDFiles = (List)rtn_Map.get("getABDFiles"); // 조회된 파일정보	getABDRR = (List)rtn_Map.get("getABDRR"); // 댓글리스트정보	getABDRE = (Map)rtn_Map.get("getABDRE"); // 조회된 답글정보	getABDREFiles = (List)rtn_Map.get("getABDREFiles"); // 조회된답글 파일정보	rIDX = Integer.parseInt(HtmlTag.returnString(String.valueOf(rtn_row_Map.get("DATA_SEQNO")),"0"),10);	rM_CODE	= HtmlTag.returnString((String)rtn_row_Map.get("MENU_CD"),"");	rM_NM 	= HtmlTag.returnString((String)rtn_row_Map.get("MENU_NM"),"");	rREG_DT	= HtmlTag.returnString((String)rtn_row_Map.get("REG_DT"),"");	rREG_ID	= HtmlTag.returnString((String)rtn_row_Map.get("REG_ID"),"");	rB_TITLE	= HtmlTag.returnString((String)rtn_row_Map.get("DATA_TITLE"),"");	rB_CONTENTS	= HtmlTag.returnString((String)rtn_row_Map.get("DATA_DESC"),"");	rREAD_CNT	= Integer.parseInt(HtmlTag.returnString(String.valueOf(rtn_row_Map.get("INQ_CNT")),"0"),10);	rR_IDX	= Integer.parseInt(HtmlTag.returnString(String.valueOf(rtn_row_Map.get("DATA_ORIGIN_NO")),"0"),10);	rR_DEPTH	= Integer.parseInt(HtmlTag.returnString(String.valueOf(rtn_row_Map.get("DATA_DEPTH")),"0"),10);	rGESI_FL	= HtmlTag.returnString((String)rtn_row_Map.get("OPEN_YN"),"");	rGESI_FL_NM	= HtmlTag.returnString((String)rtn_row_Map.get("OPEN_YN_NM"),"");	rREG_NAME	= HtmlTag.returnString((String)rtn_row_Map.get("REG_ID_NM"),"");	rB_SDATE	= HtmlTag.returnString((String)rtn_row_Map.get("DATA_SPA_ST_DT"),"");	rB_EDATE	= HtmlTag.returnString((String)rtn_row_Map.get("DATA_SPA_END_DT"),"");	rREG_PHOTO_ALT	= HtmlTag.returnString((String)rtn_row_Map.get("PHOTO_IMAGE_ALT"),"");	for(i=0;i<10;i++){		rB_ETC_ARR[i] = HtmlTag.returnString((String)rtn_row_Map.get("DATA_SPA_COL"+i),"");	}	rREG_MAIL_sp = HtmlText.split(rREG_MAIL,"@");	rFILE_NMS = HtmlTag.returnString((String)rtn_row_Map.get("FILE_NMS"),"");	rFILE_NMS_arr = HtmlText.split(rFILE_NMS,"::");		rIPIN_NO = HtmlTag.returnString((String)rtn_row_Map.get("IPIN_NO"),"");	rDUPL_INFO = HtmlTag.returnString((String)rtn_row_Map.get("DUPL_INFO"),"");	rAUTH_TYPE = HtmlTag.returnString((String)rtn_row_Map.get("AUTH_TYPE"),"");			//답변글	if(getABDRE!=null){		rrB_TITLE = HtmlTag.returnString((String)getABDRE.get("DATA_TITLE"),"");		rrREG_NAME = HtmlTag.returnString((String)getABDRE.get("REG_ID_NM"),"");		rrREG_DT = HtmlTag.returnString((String)getABDRE.get("REG_DT"),"");		rrB_CONTENTS = HtmlTag.returnString((String)getABDRE.get("DATA_DESC"),"");	}		if(SITE_SESSION!=null){		sUSER_ID = HtmlTag.returnString((String)SITE_SESSION.get("USER_ID"),"");	}%><!--목록시작--><form name="writefrm" id="writefrm" method="post"  enctype="multipart/form-data" ><input type="hidden" name="scode"  id="scode" value="<%=scode%>" title="사이트코드" /><input type="hidden" name="pcode" id="pcode" value="<%=pcode%>" title="페이지코드"  /><input type="hidden" name="pstate" id="pstate" value="<%=pstate%>" title="페이지상태"  /><input type="hidden" name="curr_page" id="curr_page" value="<%=curr_page%>" title="현재페이지번호"  /><input type="hidden" name="show_rows" id="show_rows" value="<%=show_rows%>" title="현재페이지당데이터수"  /><input type="hidden" name="se_field" id="se_field" value="<%=se_field%>" title="검색컬럼"  /><input type="hidden" name="se_text" id="se_text" value="<%=se_text%>" title="검색단어"  /><input type="hidden" name="se_code" id="se_code" value="<%=se_code%>" title="검색코드"  /><input type="hidden" name="sidx" id="sidx" value="<%=rIDX%>" /><input type="hidden" name="sreidx" id="sreidx" value="" /><input type="hidden" name="orgregname" id="orgregname" value="<%=reREG_NAME %>" /><input type="hidden" name="orgbtitle" id="orgbtitle" value="" /><input type="hidden" name="ichk_secret_no" id="ichk_secret_no" value=""><input type="hidden" name="mylist_yn" id="mylist_yn" value="<%=mylist_yn%>">                    <div class="viewArea">                        <table class="tableA">                            <caption><%=M_PATH_STR.substring(M_PATH_STR.lastIndexOf("::")+2)%> 게시판 읽기 제목, 작성자, 작성일, 첨부파일, 내용 확인</caption>                            <colgroup>                                <col width="*">                                <col width="7%">                                <col width="10%">                            </colgroup>                            <thead>                                <tr>                                    <th colspan="2"><p><%=rB_TITLE.replaceAll("&amp;amp;","&")%></p></th>                                    <th><%--=BOARD_LI_ITEM_NM_ARR[1] --%><%=StringUtil.masking_name(rREG_NAME)%></th>                                    <th><%--=BOARD_LI_ITEM_NM_ARR[3] --%><%=rREG_DT%></th>                                </tr>                                                                <tr>                                    <th colspan="4">                                        <div class="attach_list">                                            <span>첨부파일</span>                                            <div>						<%					    // 첨부기능이 활성화 된경우만 보여준다							if(getABDFiles!=null){								if(getABDFiles.size() > 0){									for(j=0;j<getABDFiles.size();j++){										rtn_row_map2  = (Map)getABDFiles.get(j);										//IDX, M_CODE, RIDX, FILE_NM, RFILE_NM , ORDER_NO,										%>										<a href="#" class="attachFile" onclick="GoDownfile('<%=pcode%>','<%=rtn_row_map2.get("ridx")%>','<%=rtn_row_map2.get("orderNo")%>');return false;" title="<%=rtn_row_map2.get("fileNm") %> 파일다운로드"><%=rtn_row_map2.get("fileNm") %></a>										<%									}								}else{								%>								등록된 첨부파일이 없습니다.								<%								}							}						%>                                                                                        </div>                                        </div>                                    </th>                                </tr>                                                                 								<%								// 추가컬럼의 출력여부를 확인하여 출력한다								int add_col_cnt = 0;								for(i=0;i<=9;i++){									//System.out.println(i+":"+BOARD_ETC_ITEM);									//System.out.println(i+":"+BOARD_ETC_ITEM_ARR[i]);									if(BOARD_ETC_ITEM_ARR[i].equals("Y")){											add_col_cnt++;									}								}																if(add_col_cnt > 0){									for(i=0;i<=9;i++){										if(BOARD_ETC_ITEM_ARR[i].equals("Y")){								%>										<!-- 등록일 타이틀명 -->                                <tr style="background:none;border:0px solid #fff;">                                    <th colspan="4" >                                        <div class="attach_list">                                            <span><%=BOARD_ETC_ITEM_NM_ARR[i] %></span>                                            <div style="margin-left:30px;">												  <%											      // 문자											      if(BOARD_ETC_ITEM_TY_ARR[i].equals("V")){											      %>											      <%=(rB_ETC_ARR[i]==null?"":rB_ETC_ARR[i].replaceAll("&lt;x-",""))%>											      <%											      // 숫자형											      }else if(BOARD_ETC_ITEM_TY_ARR[i].equals("N")){											      %>											      <%=rB_ETC_ARR[i]%>											      <%											      // 날짜형											      }else if(BOARD_ETC_ITEM_TY_ARR[i].equals("D")){											      %>											      <%=rB_ETC_ARR[i]%>											      <%											      // 코드형											      }else if(BOARD_ETC_ITEM_TY_ARR[i].equals("C")){											      	code_select_List = (List)rtn_Map.get("ListTreeETC"+i);											        if(code_select_List!=null){											      		for(j=0;j<code_select_List.size();j++){											      			rtn_row_map2 = (Map)code_select_List.get(j);											      			if(rB_ETC_ARR[i].equals((String)rtn_row_map2.get("stdinfoDtlCd"))){											      	%>											      	<%=rtn_row_map2.get("stdinfoDtlNm")%>											      	<%											      			}											      		 }											      	  }											      }											      %>&nbsp;                                                                                        </div>                                        </div>                                    </th>                                </tr>                                                                                         																		<%										}									}// for 종료								}								%>                                                                                            </thead>                            <tbody>                                                           <tr>                                    <td colspan="4" class="content">									<%=rB_CONTENTS.replaceAll("&amp;","&").replaceAll("&amp;","&").replaceAll("\"","'").replaceAll("&lt;","<").replaceAll("&gt;",">").replaceAll("\r\n", "<br />") %>                                                                        </td>                                </tr>                            </tbody>                        </table>                      	<%	// 지원사업 공고 게시판유형인경우 현재 일자가 시작일과 종료일에 사이에 포함되고 로그인사용자일경우 지원사업 참여가 가능하도록 버튼을 보여준다	if(BOARD_TY.equals("000223")){	%>                      	<div class="btnArea">		<a href="#" class="blueBtn" id="btn_000223_reg" onclick='Go_000223Reg();return false;'>지원사업 신청</a>                           </div>                            <div class="total" id="page_info_id2">                        Total:                        <span>0</span>건                    </div>                    <div class="tableArea info_list">                        <table class="tableA">                            <caption>지원사업 신청 목록</caption>                            <colgroup>														<col width="9%" />							<col width="*" />							<col width="12%" />							<col width="14%" />							<col width="10%" />														<col width="10%" class="resp_1000" />							                            </colgroup>                            <thead>                                <tr>                                    <th colspan="6"><p>신청서 목록</p>                                                                        </th>                                </tr>                                                     								<tr id="list_th_obj2">																		<th scope="col" class="resp">번호</th>								    <th scope="col">제목</th>								    <th scope="col" class="resp">첨부파일</th>								    <th scope="col">작성일</th>								    <th scope="col">작성자</th>								    								    <th scope="col" class="resp_1000">조회수</th>								</tr>                            </thead>                            <tbody id="list_data_obj2"> 								<tr><td colspan='6' class='no_text' style="text-align:center;">등록된 신청 데이터가 없습니다.</td></tr>                            </tbody>                        </table>                    </div>                        	<%	}	// 답변형,자유형 게시판이고 답글이 있는 경우 보여준다 ------------------------------------------------------- 스타일수정필요	if(BOARD_TY.equals("000012") && getABDRE!=null){	%>                                                <table class="tableA">                            <caption><%=M_PATH_STR.substring(M_PATH_STR.lastIndexOf("::")+2)%> 게시판 답변 제목, 작성자, 작성일, 첨부파일, 내용 확인</caption>                            <colgroup>                                <col width="*">                                <col width="7%">                                <col width="10%">                            </colgroup>                            <thead>                                <tr>                                    <th colspan="2"><p><%=rrB_TITLE.replaceAll("&amp;amp;","&")%></p></th>                                    <th><%--=BOARD_LI_ITEM_NM_ARR[1] --%><%=StringUtil.masking_name(rrREG_NAME)%></th>                                    <th><%--=BOARD_LI_ITEM_NM_ARR[3] --%><%=rrREG_DT%></th>                                </tr>                                                                <tr>                                    <th colspan="4">                                        <div class="attach_list">                                            <span>첨부파일</span>                                            <div>											<%											if(getABDREFiles!=null){												if(getABDREFiles.size() > 0){												for(j=0;j<getABDREFiles.size();j++){													rtn_row_map2  = (Map)getABDREFiles.get(j);													%>													<a href="#" class="attachFile" onclick="GoDownfile('<%=pcode%>','<%=rtn_row_map2.get("ridx")%>','<%=rtn_row_map2.get("orderNo")%>');return false;" title="<%=rtn_row_map2.get("fileNm") %> 파일다운로드"><%=rtn_row_map2.get("fileNm") %></a>																										<%													}												}else{												%>												등록된 첨부파일이 없습니다.												<%												}											}											%>                                                                                     </div>                                        </div>                                    </th>                                </tr>                                                                                            </thead>                            <tbody>                                                           <tr>                                    <td colspan="4" class="content">									<%=rrB_CONTENTS.replaceAll("&amp;","&").replaceAll("&amp;","&").replaceAll("\"","'").replaceAll("&lt;","<").replaceAll("&gt;",">").replaceAll("\r\n", "<br />") %>                                                                        </td>                                </tr>                            </tbody>                        </table>                        	<%	}	%>                        						<%						//이전글 , 다음글						rtn_row_Map = (Map)rtn_Map.get("getABDNe"); // 조회된 상세내용						//NEXT_SEQ, NEXT_TITLE, NEXT_COL0, PREV_SEQ, PREV_TITLE, PREV_COL0												//답변형은 이전글 다음글을 보여주지 않는다.						if(rtn_row_Map!=null && !BOARD_TY.equals("000012")){						%>                        <div class="viewList">                            <div class="prevList">							      <%							      if(rtn_row_Map.get("prevTitle")==null){							      %>  								<a href="#" onclick="return false;">                                    <span>이전글</span>                                    <p class="ellipsis">							      							     	 이전글이 존재하지 않습니다.                                    </p>                                </a>							     	 							      <%							      }else{							      %>  								<a href="#" onclick="Go_View(<%=rtn_row_Map.get("prevSeq")%>);return false;" >                                    <span>이전글</span>                                    <p class="ellipsis">							      							     	 <%=rtn_row_Map.get("prevTitle")%>                                    </p>                                </a>							      							      								      <%							      }							      %>                                                                </div>                            <div class="nextList">							      <%							      if(rtn_row_Map.get("nextTitle")==null){							      %>  								<a href="#" onclick="return false;">                                    <span>다음글</span>                                    <p class="ellipsis">							      							     	 다음글이 존재하지 않습니다.                                    </p>                                </a>							     	 							      <%							      }else{							      %>  								<a href="#" onclick="Go_View(<%=rtn_row_Map.get("nextSeq")%>);return false;" >                                    <span>다음글</span>                                    <p class="ellipsis">							      							     	 <%=rtn_row_Map.get("nextTitle")%>                                    </p>                                </a>							      							      								      <%							      }							      %>                            </div>                        </div>						<%						}						%>                                                <div class="btnArea">							<%							if(scode.equals("S01")){							%>							<%								// 게시판 종류가 자유형, 답변형이고 등록자 본인인 경우만 등록가능하다								// 게시판 종류는 000010:공지형 , 000011:자유형 , 000012:답변형, 000013:갤러리형 , 000014:통합형, 000051:일정형, 000052:FAQ형, 000052:동영상형								if( (BOARD_TY.equals("000011") || BOARD_TY.equals("000012")) ){							%>								<a href="#" id="btn_modify" class="blueBtn" Onclick='Go_mod();return false;'>수정</a>								<a href="#" id="btn_del" class="blueBtn" Onclick='Go_del();return false;'>삭제</a>							<%								}else if(BOARD_TY.equals("000417")){							%>								<a href="#" id="btn_modify" class="blueBtn" Onclick='fnOpenPwLayer("<%=rIDX%>", "BOARD");return false;'>수정</a>								<!-- a href="#" id="btn_del" class="btn_4 size_n" Onclick='fnOpenPwLayer("<%=rIDX%>", "BOARD");return false;'>삭제</a -->							<%								}							%>								<a href="#" id="btn_list" class="btnBK" Onclick='Go_list();return false;'>목록</a>							<%							}else{							%>															<%								// 게시판 종류가 자유형이고 등록자 본인인 경우만 등록가능하다								// 게시판 종류는 000010:공지형 , 000011:자유형 , 000012:답변형, 000013:갤러리형 , 000014:통합형, 000051:일정형, 000052:FAQ형, 000052:동영상형								if(BOARD_TY.equals("000011") || BOARD_TY.equals("000012")){									// 데이터가 로그인후 등록된경우 이고 등록자와 로그인한 사람이 동일할경우									if(rAUTH_TYPE.equals("LOGIN") && rREG_ID.equals(userId)){							%>								<a href="#" class="blueBtn" id="btn_modify" onclick='Go_mod();return false;'>수정</a>								<a href="#" class="blueBtn" id="btn_del" onclick='Go_del();return false;'>삭제</a>														<%									// 데이터가 본인인증후 등록된 경우 일경우 비밀번호를 확인한다.									}else if((rAUTH_TYPE.equals("CHECKPLUS") || rAUTH_TYPE.equals("IPIN"))){							%>								<a href="#" class="blueBtn" id="btn_modify" onclick='Go_mod();return false;'>수정</a>								<a href="#" class="blueBtn" id="btn_del" onclick='Go_del();return false;'>삭제</a>																						<%												}							%>														<%								}							%>										<a href="#" class="btnBK" onclick='Go_list();return false;'><strong>목록</strong></a>							<%							}							%>                                                </div>                    </div>						<%		// 댓글기능은 자유형게시판일 경우 보여준다 게시판 종류는 000011:자유형 -------------------------------------------------------현재는 기능 비활성화		if(BOARD_TY.equals("000011") ){		%>		<!--board_A0_view--><%-- 		<div class="board_A0_V">			<table class="<%=(scode.equals("S01")?"board view":"tb_row") %>" border="0" cellspacing="0" cellpadding="0" summary="댓글">				<caption>댓글</caption>				<thead>					<tr>						<th scope="col">댓 글</th>					</tr>				</thead>				<tbody>					<tr>						<td>							<dl>								<dt style="width:41px;">이름</dt>								<dd style="width:70px;"><input name="REG_NAME" type="text" value="<%=reREG_NAME%>" style="vertical-align:middle;width:width:70px;height:22px;" title="이름입력" /></dd>								<dd style="width:300px;"><textarea name="B_TITLE" cols="90" wrap="hard" style="height:60px;" onKeyUp="fc_chk_byte(this,600,document.getElementsByName('B_TITLE_LEN')[0]);" ></textarea>  									(<input type="text" name="B_TITLE_LEN" style="width:25px;height:22px;border:0 solid;text-align:right;" value="0" title="댓글글자수" />/600)글자수  								</dd>  								<dd style="width:70px;"><span class="btn_pack large"><a href="#" id="btn_RRein" Onclick='Go_RRein();return false;'>댓글등록</a></span></dd>							</dl>																				  	<%						  	// 댓글 목록을 출력한다							if(getABDRR!=null){								for(j=0;j<getABDRR.size();j++){										rtn_row_map2  = (Map)getABDRR.get(j);							%>							<dl>								<dt style="width:100px;">							      <%							      if(Integer.parseInt(String.valueOf(rtn_row_map2.get("rDepth"))) > 1 ){														    	  for(k=1;k<Integer.parseInt(String.valueOf(rtn_row_map2.get("rDepth")));k++){							      		out.print("&nbsp;&nbsp;");							    	  }							      %>							      <img src="<%=img_url %>/cm/icon_reply.gif" alt="답변" />							      <%							      }							      %>							      <%=rtn_row_map2.get("regName")%>																		</dt>								<dd style="width:300px;"><%=((String)rtn_row_map2.get("bTitle")).replaceAll("\r\n","<br />")%><img onclick="Go_RRe('<%=rtn_row_map2.get("idx") %>')" src="<%=img_url %>/cm/plus.gif" alt="답변" style="vertical-align:bottom;" />									</dd>								<dd style="width:140px;">									<span class="btn_pack large"><a href="#" id="btn_RRemo" Onclick="Go_RRemo('<%=rtn_row_map2.get("idx") %>');return false;">수정</a></span>									<span class="btn_pack large"><a href="#" id="btn_RRedel" Onclick="Go_RRedel('<%=rtn_row_map2.get("idx") %>');return false;">삭제</a></span>																		</dd>							</dl>														<dl id="retr_<%=rtn_row_map2.get("idx") %>" style="display:none;">								<dt style="width:41px;">이름</dt>								<dd style="width:70px;"><input name="REG_NAME_<%=rtn_row_map2.get("idx") %>" type="text" value="<%=reREG_NAME%>" style="vertical-align:middle;width:width:70px;height:22px;" title="이름입력" readonly /></dd>								<dd style="width:300px;"><textarea name="B_TITLE_<%=rtn_row_map2.get("idx") %>" cols="90" wrap="hard" style="height:60px;" onKeyUp="fc_chk_byte(this,600,document.getElementsByName('B_TITLE_LEN_<%=rtn_row_map2.get("idx") %>')[0]);" ><%=rtn_row_map2.get("bTitle") %></textarea>						  	(<input type="text" name="B_TITLE_LEN_<%=rtn_row_map2.get("idx") %>" style="width:25px;height:22px;border:0 solid;text-align:right;" value="0" title="댓글글자수" />/600)글자수  								</dd>  								<dd style="width:70px;"><span class="btn_pack large"><a href="#" id="btn_RRemoin" Onclick="Go_RRemoin('<%=rtn_row_map2.get("idx") %>');return false;">저장</a></span></dd>							</dl>								<input type="hidden" name="sreidx_<%=rtn_row_map2.get("idx") %>" value="<%=rtn_row_map2.get("idx") %>" title="데이터 인덱스" />								<input type="hidden" name="orgB_TITLE_<%=rtn_row_map2.get("idx") %>" value="<%=rtn_row_map2.get("bTitle") %>" title="원댓글내용" />								<input type="hidden" name="orgREG_NAME_<%=rtn_row_map2.get("idx") %>" value="<%=rtn_row_map2.get("regName") %>" title="원댓글등록자명" />						  								<%											}							}						  	%>															</td>					</tr>				</tbody>			</table>		</div> --%>		<!--//board_A0_view-->	<%	// 댓글기능은 자유형게시판일 경우 보여준다 게시판 종류는 000011:자유형 -------------------------------------------------------현재는 기능 비활성화	}	%>			</form><!-- 등록,수정 창  --><div id="create_form_re_<%=pcode %>" class="ly_pop2" style="position:absolute;top:0%;left:0%;z-index:9000;width:800px;display:none;margin:0 0;">	<h1 id="create_form_title_re_<%=pcode %>" ><span>&#8226;</span>상세조회</h1><span class="close" id="btn_close_icon_re_<%=pcode %>" onclick="create_form_close_re_<%=pcode %>()"><a href="#" onclick="return false;"></a></span>	<form name="create_formfm_re_<%=pcode %>" id="create_formfm_re_<%=pcode %>" method="post" onSubmit='return false;' enctype="multipart/form-data" >	<input type="hidden" name="scode"  id="scode" value="<%=scode%>" title="사이트코드" />	<input type="hidden" name="pcode" id="pcode" value="<%=pcode%>" title="페이지코드"  />	<input type="hidden" name="pstate" id="pstate" value="<%=pstate%>" title="페이지상태"  />	<input type="hidden" name="curr_page" id="curr_page" value="<%=curr_page%>" title="현재페이지번호"  />	<input type="hidden" name="show_rows" id="show_rows" value="<%=show_rows%>" title="현재페이지당데이터수"  />	<input type="hidden" name="se_field" id="se_field" value="<%=se_field%>" title="검색컬럼"  />	<input type="hidden" name="se_text" id="se_text" value="<%=se_text%>" title="검색단어"  />	<input type="hidden" name="se_code" id="se_code" value="<%=se_code%>" title="검색코드"  />	<input type="hidden" name="sidx" id="sidx" value="<%=rIDX%>" />	<input type="hidden" name="sreidx" id="sreidx" value="" />	                <table class="tableA" cellpadding="0" cellspacing="0" border="0" style="margin-top:4px;">            <caption>상세조회</caption>            <colgroup>                <col width="20%" />                <col width="*" />                <col width="20%" />                <col width="*" />            </colgroup>            <tbody>            	<tr>                	<th scope="row">제 목                    </th>                    <td colspan="3">                    	<input type="text" id="B_TITLE" name="B_TITLE" value="" style="width:98%;" />                    </td>                </tr>                            	<tr>                	<th scope="row">작성자                    </th>                    <td ><span id="REG_NM_STR"></span>                                        </td>                                	                	<th scope="row">작성일                    </th>                    <td><span id="REG_DT_STR"></span>                      </td>                                    </tr>                              	<tr>                	<th scope="row" colspan="4">						<%						// 에디터 환경설정						String editor_table_size = "94%";						String editor_form_content="B_CONTENTS";						String editor_cdiv="cdiv";							String editor_form_name = "create_formfm";						String editor_dir_path = "/editer";										%>   						<textarea name="<%=editor_form_content %>" id="<%=editor_form_content %>" style="width:<%=editor_table_size %>;min-height:350px;"></textarea>                	                    </th>                                   </tr>                             	<tr>                	<th scope="row">첨부파일                    </th>                    <td colspan="3">						<div id="cmfile1"></div>                    </td>                                   </tr>                              	<tr>                    <td scope="row" id="create_form_btns_re_<%=pcode %>" colspan="4">							<a href="#" class="btnBM" id="btn_create_form_insert_re_<%=pcode %>" onclick='create_form_insert_re_<%=pcode %>();return false;'>등록</a>                       							<a href="#" class="btnBM" id="btn_create_form_update_re_<%=pcode %>" onclick='create_form_update_re_<%=pcode %>();return false;'>수정</a>							<a href="#" class="btnBM" id="btn_create_form_delete_re_<%=pcode %>" onclick='create_form_delete_re_<%=pcode %>();return false;'>삭제</a>							<a href="#" class="btnBL" id="btn_create_form_close_re_<%=pcode %>" onclick='create_form_close_re_<%=pcode %>();return false;'>닫기</a>                                                           </td>                                    </tr>                            </tbody>         </table>          	</div>		</form>	</div><!-- 등록,수정 창  --><script type='text/javascript'>//<![CDATA[	function Go_list(){		  su_form=document.writefrm;		  su_form.pstate.value='L';		  su_form.action='<%=RequestURL%>';		  su_form.submit();		  su_form.target = "";			}	//수정	function Go_mod(){				<%		//답변이 있을경우 수정불가		if(getABDRE!=null){		%>			alert('답변이 등록된 글은 수정하실수 없습니다.');			return;		<%		}				// 데이터가 로그인후 등록된경우 이고 등록자와 로그인한 사람이 동일할경우		if(rAUTH_TYPE.equals("LOGIN") && rREG_ID.equals(userId)){		%>			fnOpenPwLayer($("#sidx").val(), "UF");			<%		// 데이터가 로그인후 등록된경우 이고 등록자와 로그인한 사람이 틀릴경우		}else if(rAUTH_TYPE.equals("LOGIN") && !rREG_ID.equals(userId)){		%>							if("N" == "<c:out value='${nUser}'/>"){				// 회원로그인 확인				if(confirm('로그인하여 등록된 글입니다 .\n수정하시려면 확인을 선택하시면 로그인화면으로 이동하여 로그인후 수정해주세요.')){					//document.location.href="<c:url value='/cmsmain.do'/>?scode=S01&pcode=000253";					Go_LoginPageView("<%=pcode %>", "R",$("#sidx").val());				}else{					return false;				}							}else{					alert("등록자 본인만 수정가능한 글입니다.");					return false;			}							<%		// 데이터가 본인인증후 등록된 경우 일경우 비밀번호를 확인한다.		}else if((rAUTH_TYPE.equals("CHECKPLUS") || rAUTH_TYPE.equals("IPIN"))){		%>		fnOpenPwLayer($("#sidx").val(), "UF");									<%					}		%>		}	//삭제	function Go_del(){		if(confirm("삭제하시겠습니까?")){			<%			//답변이 있을경우 수정불가			if(getABDRE!=null){			%>				alert('답변이 등록된 글은 삭제하실수 없습니다.');				return;			<%			}						// 데이터가 로그인후 등록된경우 이고 등록자와 로그인한 사람이 동일할경우			if(rAUTH_TYPE.equals("LOGIN") && rREG_ID.equals(userId)){				  /*su_form=document.writefrm;				  su_form.pstate.value='D';				  su_form.target = "successIframe";				  su_form.action='';				  su_form.submit();				  su_form.target = "";*/							%>			fnOpenPwLayer($("#sidx").val(), "D");					<%			// 데이터가 로그인후 등록된경우 이고 등록자와 로그인한 사람이 틀릴경우			}else if(rAUTH_TYPE.equals("LOGIN") && !rREG_ID.equals(userId)){			%>							if("N" == "<c:out value='${nUser}'/>"){						// 회원로그인 확인						if(confirm('로그인하여 등록된 글입니다 .\n삭제하시려면 확인을 선택하시면 로그인화면으로 이동하여 로그인후 삭제해주세요.')){							//document.location.href="<c:url value='/cmsmain.do'/>?scode=S01&pcode=000253";							Go_LoginPageView("<%=pcode %>", "R",$("#sidx").val());						}else{							return false;						}											}else{							alert("등록자 본인만 삭제가능한 글입니다.");							return false;					}								  			<%			// 데이터가 본인인증후 등록된 경우 일경우 비밀번호를 확인한다.			}else if((rAUTH_TYPE.equals("CHECKPLUS") || rAUTH_TYPE.equals("IPIN"))){			%>			fnOpenPwLayer($("#sidx").val(), "D");										<%						}			%>						}else{			return;		}	}		<%	// 지원사업 공고 게시판유형인경우 현재 일자가 시작일과 종료일에 사이에 포함되고 로그인사용자일경우 지원사업 참여가 가능하도록 버튼을 보여준다	if(BOARD_TY.equals("000223")){	%>    	function Go_000223Reg(){		// 로그인이 안된경우		if("N" == "<c:out value='${nUser}'/>"){			// 회원로그인 확인			if(confirm('로그인후 등록가능합니다.\n로그인 하시겠습니까?')){				//document.location.href="<c:url value='/cmsmain.do'/>?scode=S01&pcode=000253";				Go_LoginPageView("<%=pcode %>", "RF",$("#sidx").val());			}else{				return false;			}		// 로그인이 된경우		}else{			$("#writefrm").find("#pstate").val("RF");			document.writefrm.submit();			}		}    		// 신청서 상세보기	function Go_ViewRE(pidx){		create_form_view_re_<%=pcode %>(pidx, "R");	}			function Go_ViewRECaution(pidx){		if("N" == "<c:out value='${nUser}'/>"){			// 회원로그인 확인			if(confirm('등록자 본인만 확인가능합니다.\n확인을 선택하시면 로그인화면으로 이동합니다.')){				//document.location.href="<c:url value='/cmsmain.do'/>?scode=S01&pcode=000253";				Go_LoginPageView("<%=pcode %>", "R",pidx);										}else{				return false;								}		}else{			alert("본인이 등록한 글이 아닙니다");			return false;		}			}			//TODO : create_form_close_re_<%=pcode %>() 	// 등록 ,수정창 닫기	function create_form_close_re_<%=pcode %>(){		$("#create_form_re_<%=pcode %>").hide();		create_form_init_re_<%=pcode %>();		CmclospageDisable();	}	// TODO : create_form_view_re_<%=pcode %> 	// 등록 ,수정창 오픈	function create_form_view_re_<%=pcode %>(pidx, mods){		var i = 0;				var sc_pos = 0;				$("form[name=create_formfm_re_<%=pcode %>]").find('input[name=sreidx]').val(pidx);						if (isEmpty($("form[name=create_formfm_re_<%=pcode %>]").find("#sidx").val())				|| isEmpty($("form[name=create_formfm_re_<%=pcode %>]").find("#sreidx").val())) {			alert("필수 정보가 없습니다.");			return false;		}								$("form[name=create_formfm_re_<%=pcode %>]").find("#pstate").val("XR2");		var params =  $("form[name=create_formfm_re_<%=pcode %>]").serialize();		CmopenpageDisable();		 $.ajax({	        type: "post",	        url: "<c:url value='/cmsajax.do'/>",	        data: params,	        async: false,	        dataType:"json",	        timeout: 3000,	        error: function (jqXHR, textStatus, errorThrown) {	            // 통신에 에러가 있을경우 처리할 내용(생략가능)		        	alert("네트웍장애가 발생했습니다. 다시시도해주세요");		        	create_form_close_re_<%=pcode %>();          	        },			             	        success: function(data){	           if(data.result==true){					if(data.reMap!=""){ 						$("form[name=create_formfm_re_<%=pcode %>]").find('input[name=B_TITLE]').val(data.reMap.data_title);						$("#B_TITLE_STR").html(data.reMap.data_title);						$("#REG_NM_STR").html(data.reMap.reg_id_nm);						$("#REG_DT_STR").html(data.reMap.reg_dt);						$("#<%=editor_form_content %>").val(data.reMap.data_desc);												// 첨부파일을 셋팅한다												if(data.reMap.file_nms!=""){						    var file_nms_arr = data.reMap.file_nms.split("::");						    var file_seq_arr = data.reMap.file_seq.split("::");						      						    var file_group1 = getFileHtmlArray(data.reMap.file_seq.replace(/::/gi,','), data.reMap.file_nms.replace(/::/gi,','));							$.fn.cmfile.setfileList("cmfile1", file_group1);						}																	}else{						alert("일치하는 데이터를 찾지 못했습니다.");			        	create_form_close_re_<%=pcode %>();																	}	           	           }else{		        	alert(data.TRS_MSG);		        	create_form_close_re_<%=pcode %>();		        		           }					          	$("#pstate").val("R");	        }		});									// 조회 모드이면		if(mods=="R"){			// 수정, 초기화버튼을 숨긴다			$("#btn_create_form_insert_re_<%=pcode %>").css("display","none");			//$("#btn_create_form_update_re_<%=pcode %>").css("display","none");			//$("#btn_create_form_delete_re_<%=pcode %>").css("display","none");			//$("#btn_create_form_init").css("display","none");								// 수정 모드이면		}else if(mods=="U"){			// 등록버튼을 숨긴다			$("#btn_create_form_insert_re_<%=pcode %>").css("display","none");			$("#btn_create_form_delete_re_<%=pcode %>").css("display","none");					}		//console.log("$(document).width()===>"+$(document).width());		//console.log("$(document).width()===>"+($(document).width() / 2));		//console.log("$(document).width()===>"+(( ( $(document).width() / 2 ) - 400) ));		//console.log("$(document).scrollLeft()===>"+$(document).scrollLeft());		//console.log("left ===>"+( (( ( $(document).width() / 2 ) - 400) ) + $(document).scrollLeft() ) );		//console.log("top ===>"+( (( ( $(document).height() / 2 ) - 700) ) + $(document).scrollTop() ) );		// 수정, 등록창의 위치를 잡는다		$("#create_form_re_<%=pcode %>").css("left",( (( ( $(document).width() / 2 ) - 400) ) + $(document).scrollLeft() )+"px");		$("#create_form_re_<%=pcode %>").css("top", ( (( ( $(document).height() / 2 ) - 1000) ) + $(document).scrollTop() )+"px");			//alert($("#org_text_div").scrollTop()+"==>"+sc_pos);		//$("#create_form_re_000091").css("left");						$("#create_form_re_<%=pcode %>").show(500);			}	function create_form_init_re_<%=pcode %>(){		$("#btn_create_form_insert_re_<%=pcode %>").css("display","");		$("#btn_create_form_update_re_<%=pcode %>").css("display","");		$("#btn_create_form_delete_re_<%=pcode %>").css("display","");		//$("#btn_create_form_init").css("display","");			// 수정 키값을 셋팅		$("form[name=create_formfm_re_<%=pcode %>]").find('input[name=sreidx]').val("");				// 파일객체를 초기화하고 재생성한다		$("#cmfile1").html("");		var file = $.fn.cmfile.init({			 id				: 'cmfile1' 			,onClickNamefn	: "fileNameClick1"			,img_url 		: "<%=img_url%>"			,uploadcnt		: 3			,extchk		: ['GIF','JPG','BMP','PNG','HWP','XLS','XLSX','ZIP','PDF','TIF','DOC','DOCX','PPT','PPTX','TXT']		});				}	//TODO : create_form_insert	//코드등록	function create_form_insert_re_<%=pcode %>(){	}	 	//TODO : create_form_update	//코드수정	function create_form_update_re_<%=pcode %>(){		//alert("313123");		if (isEmpty($("form[name=create_formfm_re_<%=pcode %>]").find("#sidx").val())				|| isEmpty($("form[name=create_formfm_re_<%=pcode %>]").find("#sreidx").val())) {			alert("필수 정보가 없습니다.");			return false;		}				if(isEmpty($("form[name=create_formfm_re_<%=pcode %>]").find("#B_TITLE").val()) ){			alert('제목을 입력해 주세요');			$("form[name=create_formfm_re_<%=pcode %>]").find("#B_TITLE").focus();			return;		}					if(isEmpty($("form[name=create_formfm_re_<%=pcode %>]").find("#B_CONTENTS").val()) ){			alert('내용을 입력해 주세요');			$("form[name=create_formfm_re_<%=pcode %>]").find("#B_CONTENTS").focus();			return;		}							$("form[name=create_formfm_re_<%=pcode %>]").find("#pstate").val("U");				$("form[name=create_formfm_re_<%=pcode %>]").find("#sidx").val($("form[name=create_formfm_re_<%=pcode %>]").find("#sreidx").val());				var params = $("form[name=create_formfm_re_<%=pcode %>]").serialize();		CmLoadingChg_Zindex(9999);			  //alert(params);		jQuery("form[name=create_formfm_re_<%=pcode %>]").ajaxSubmit({	        type: "post",	        url: "<c:url value='/cmsajax.do'/>",	        data: params,	        dataType:"json",			    	  		    beforeSubmit:function(data,form,option){		      //alert('11');	  		  //return true;		  	  	},	       error: function (jqXHR, textStatus, errorThrown) {	           // 통신에 에러가 있을경우 처리할 내용(생략가능)		        	alert("네트웍장애가 발생했습니다. 다시시도해주세요");		        	CmLoadingChg_Zindex(8000);             	       },	       success: function(data){	         if(data.result==true){	      	   	alert('수정 되었습니다.');		            CmLoadingChg_Zindex(8000);		            $("form[name=create_formfm_re_<%=pcode %>]").find("#sidx").val($("form[name=writefrm]").find("#sidx").val());		            create_form_close_re_<%=pcode %>();		            refreshAbdRE();	         	         }else{		        	alert(data.TRS_MSG);		        	CmLoadingChg_Zindex(8000);		        		         }	       }		});	}		//TODO : create_form_delete	//코드삭제	function create_form_delete_re_<%=pcode %>(){		if (isEmpty($("form[name=create_formfm_re_<%=pcode %>]").find("#sidx").val())				|| isEmpty($("form[name=create_formfm_re_<%=pcode %>]").find("#sreidx").val())) {			alert("필수 정보가 없습니다.");			return false;		}				if(confirm("삭제하시겠습니까?\r\n")){			$("form[name=create_formfm_re_<%=pcode %>]").find("#pstate").val("D");						$("form[name=create_formfm_re_<%=pcode %>]").find("#sidx").val($("form[name=create_formfm_re_<%=pcode %>]").find("#sreidx").val());					}else{			Go_initin();			return;		}					var params = $("form[name=create_formfm_re_<%=pcode %>]").serialize();		CmLoadingChg_Zindex(9999);			//alert(params);		$.ajax({	     type: "post",	     url: "<c:url value='/cmsajax.do'/>",	     data: params,	     async: false,	     dataType:"json",	     timeout: 3000,	     error: function (jqXHR, textStatus, errorThrown) {	         // 통신에 에러가 있을경우 처리할 내용(생략가능)		        	alert("네트웍장애가 발생했습니다. 다시시도해주세요");		        	CmLoadingChg_Zindex(8000);             	     },	     success: function(data){	       if(data.result==true){	    	   	alert('삭제 되었습니다.');		            CmLoadingChg_Zindex(8000);		            $("form[name=create_formfm_re_<%=pcode %>]").find("#sidx").val($("form[name=writefrm]").find("#sidx").val());		            create_form_close_re_<%=pcode %>();		            refreshAbdRE();	       	       }else{		        	alert(data.TRS_MSG);		        	CmLoadingChg_Zindex(8000);		        		       }	     }		});	}		<%	}		%>	function Go_View(pidx){		  su_form=document.writefrm;		  su_form.method='post';		  su_form.sidx.value=pidx;		  su_form.pstate.value='R';		  su_form.action='<%=RequestURL%>';		  su_form.submit();		  su_form.target = "";	}			function Go_RRein(){		  su_form=document.writefrm;		  			if (isEmpty(su_form.B_TITLE.value)){				alert("댓글내용을 입력해주십시오");				su_form.B_TITLE.focus();				return;			}						if(getLength(su_form.B_TITLE.value) > 600){				alert("댓글내용의 입력내용이 너무 깁니다");				su_form.B_TITLE.focus();				return ;					}					if (isEmpty(su_form.REG_NAME.value)){				alert("작성자를 입력해주십시오");				su_form.REG_NAME.focus();				return;			}						if(getLength(su_form.REG_NAME.value) > 50){				alert("작성자의 입력내용이 너무 깁니다");				su_form.REG_NAME.focus();				return ;					}					  su_form.target = "successIframe";		  su_form.pstate.value='RR';		  su_form.action='<%=RequestURL%>';		  su_form.submit();		  su_form.target = "";			}		// 댓글에 댓글 입력폼 보이기	function Go_RRe(pidx){		$("[id^='retr_']").hide();				$("#retr_"+pidx).show();		document.getElementsByName('orgbtitle')[0].value = document.getElementsByName('B_TITLE_'+pidx)[0].value;		document.getElementsByName('B_TITLE_'+pidx)[0].value = "";		document.getElementsByName('REG_NAME_'+pidx)[0].value = document.getElementsByName('orgregname')[0].value;		document.getElementsByName('REG_NAME_'+pidx)[0].readOnly = false;		document.getElementsByName('sreidx')[0].value = 0;	}		// 수정폼 보이기	function Go_RRemo(pidx){		$("[id^='retr_']").hide();				$("#retr_"+pidx).show();		document.getElementsByName('B_TITLE_'+pidx)[0].value = document.getElementsByName('orgB_TITLE_'+pidx)[0].value;		document.getElementsByName('REG_NAME_'+pidx)[0].value = document.getElementsByName('orgREG_NAME_'+pidx)[0].value;				fc_chk_byte(document.getElementsByName('B_TITLE_'+pidx)[0],600,document.getElementsByName('B_TITLE_LEN_'+pidx)[0]);		document.getElementsByName('REG_NAME_'+pidx)[0].readOnly = true;		document.getElementsByName('sreidx')[0].value = "";	}		// 수정처리	function Go_RRemoin(pidx){		su_form=document.writefrm;		if (isEmpty(document.getElementsByName('B_TITLE_'+pidx)[0].value)){			alert("댓글내용을 입력해주십시오");			document.getElementsByName('B_TITLE_'+pidx)[0].focus();			return;		}				if(getLength(document.getElementsByName('B_TITLE_'+pidx)[0].value) > 600){			alert("댓글내용의 입력내용이 너무 깁니다");			document.getElementsByName('B_TITLE_'+pidx)[0].focus();			return ;				}				if (isEmpty(document.getElementsByName('REG_NAME_'+pidx)[0].value)){			alert("작성자를 입력해주십시오");			document.getElementsByName('REG_NAME_'+pidx)[0].focus();			return;		}				if(getLength(document.getElementsByName('REG_NAME_'+pidx)[0].value) > 50){			alert("작성자의 입력내용이 너무 깁니다");			document.getElementsByName('REG_NAME_'+pidx)[0].focus();			return ;				}	  // 댓글에 댓글등록	  if(su_form.sreidx.value == "0"){		  su_form.sreidx.value = pidx;		  su_form.pstate.value='RRC';	  // 수정	  }else{		  su_form.sreidx.value = pidx;		  su_form.pstate.value='RRU';		  	  }	  su_form.target = "successIframe";	  su_form.action='<%=RequestURL%>';	  su_form.submit();	  su_form.target = "";			}		// 삭제처리	function Go_RRedel(pidx){		su_form=document.writefrm;		if(confirm("삭제하시겠습니까?")){		  su_form.sreidx.value = pidx;		  su_form.target = "successIframe";		  su_form.pstate.value='RRD';		  su_form.action='<%=RequestURL%>';		  su_form.submit();		  su_form.target = "";		}else{			su_form.sreidx.value = "";			return;		}	}    	// 파일다운로드	function GoDownfile(fpcode,sidx,fidx){		url = "<%=RequestURL%>?scode=000008&pcode=000015&pstate=FILEDOWN"+"&fpcode="+fpcode+"&sidx="+sidx+"&fidx="+fidx;		document.getElementById("successIframe").src = url;			}		function fc_chk_byte(aro_name,ari_max,lenobj) {		   var ls_str			= aro_name.value; // 이벤트가 일어난 컨트롤의 value 값		   var li_str_len		= ls_str.length;  // 전체길이		   // 변수초기화		   var li_max		= ari_max; // 제한할 글자수 크기		   var i				= 0;  // for문에 사용		   var li_byte		= 0;  // 한글일경우는 2 그밗에는 1을 더함		   var li_len			= 0;  // substring하기 위해서 사용		   var ls_one_char = ""; // 한글자씩 검사한다		   var ls_str2		= ""; // 글자수를 초과하면 제한할수 글자전까지만 보여준다.		   for(i=0; i< li_str_len; i++)		   {			  // 한글자추출			  ls_one_char = ls_str.charAt(i);			  // 한글이면 2를 더한다.			  if (escape(ls_one_char).length > 4)			  {				 li_byte = li_byte+2;			  }			  // 그외의 경우는 1을 더한다.			  else			  {				 li_byte++;			  }			  // 전체 크기가 li_max를 넘지않으면			  if(li_byte <= li_max)			  {				 li_len = i + 1;			  }		   }		   lenobj.value=li_len;		   // 전체길이를 초과하면		   if(li_byte > li_max)		   {			  alert("한글"+(ari_max/2)+"자, 영문"+ari_max+"자를 초과 입력할수 없습니다. \n 초과된 내용은 자동으로 삭제 됩니다. ");			  ls_str2 = ls_str.substr(0, li_len);			  aro_name.value = ls_str2;		   }		   aro_name.focus();		}	    //=== 영문, 숫자 혼용 확인    // 혼용이면 true, 아니면 false    function engnum_mix_chk(str)    {    	var chk_num = str.search(/[0-9]/g);    	var chk_eng = str.search(/[a-z]/ig);    	if(chk_num < 0 || chk_eng < 0)    	{    		return false;    	}    	return true;    }			    function onlyEng(objtext1) {	    var inText = objtext1.value;	    var ret;		    for (var i = 0; i < inText.length; i++) {	       ret = inText.charCodeAt(i);	      if ((ret > 122) || (ret < 48) || (ret > 57 && ret < 65) || (ret > 90 && ret < 97)) {	         alert("영문자와 숫자만을 입력하세요");	         objtext1.value = "";	         objtext1.focus();	         return false;	      }	    }	    return true;    }   	function containsChars(obj, chars){				for(var inx=0; inx < obj.value.length; inx++){			if(chars.indexOf(obj.value.charAt(inx)) != -1)return false;		}		return true;	}  		function main_image_chg(chgsrc,chgalt){		$("#main_img_id").attr("src",chgsrc.replace("&img_type=thumnail_file",""));		$("#main_img_id").attr("alt",chgalt);	}		function fnPwcCallBack(data){		//alert("data.pageStatus==>"+data.pageStatus);		su_form=document.writefrm;		su_form.method='post';		su_form.pstate.value=data.pageStatus;		su_form.sidx.value=data.ikey_data;		su_form.ichk_secret_no.value=data.chk_secret_no;		su_form.action='<c:url value='/cmsmain.do'/>';		su_form.submit();		su_form.target = "";				}		//팝업호출후콜백함수	function fnCallBack(obj){		if(obj!=undefined && obj!=null){			alert(obj);		}else{			Go_mod();		}				//console.log(obj);	}	///////////////////////////////////////////// 첨부파일관련 /////////////////////////////////////////////////		$(document).ready(function() {		//alert("test");		<%		// 지원사업 공고 게시판유형인경우 현재 일자가 시작일과 종료일에 사이에 포함되고 로그인사용자일경우 지원사업 참여가 가능하도록 버튼을 보여준다		if(BOARD_TY.equals("000223")){		%> 				var file = $.fn.cmfile.init({			 id				: 'cmfile1' 			 ,onClickNamefn	: "fileNameClick1"			 ,img_url 		: "<%=img_url%>"			 ,uploadcnt		: 3			 ,extchk		: ['GIF','JPG','BMP','PNG','HWP','XLS','XLSX','ZIP','PDF','TIF','DOC','DOCX','PPT','PPTX','TXT']		});				// 등록, 수정 객체를 body 에 append한다		$("body").append($('#create_form_re_<%=pcode%>'));		// 등록, 수정 폼 드래그앤 드롭 이동        $('#create_form_re_<%=pcode%>').draggable({ opacity:"0.3" ,handle:"#create_form_title_re_<%=pcode %>" }); // 끄는 동안만 불투명도 주기                 $("body").droppable({            accept: "#create_form_re_<%=pcode%>",    // 드롭시킬 대상 요소            drop: function(event, ui) {            	$('#create_form_re_<%=pcode%>').css({ opacity:"1.0" });            }        });				refreshAbdRE();		<%		}		%>	});				//TODO : refreshAbdRE	function refreshAbdRE(){						if (isEmpty($("#sidx").val())) {			alert("필수 정보가 없습니다.");			return false;		}								$("#pstate").val("XR1");		var params =  $("form[name=writefrm]").serialize();		$("#list_data_obj2").html("");		CmopenLoading();		 $.ajax({	        type: "post",	        url: "<c:url value='/cmsajax.do'/>",	        data: params,	        async: false,	        dataType:"json",	        timeout: 3000,	        error: function (jqXHR, textStatus, errorThrown) {	            // 통신에 에러가 있을경우 처리할 내용(생략가능)		        	alert("네트웍장애가 발생했습니다. 다시시도해주세요");		        	CmcloseLoading();          	        },			             	        success: function(data){	           if(data.result==true){					if(data.rows!=""){ 						$("#page_info_id2").html("Total: <span>"+data.records+"</span>건 ");						AbdREListToHtml(data);					}else{												$("#page_info_id2").html("Total: <span>0</span>건 ");						$("#list_data_obj2").append("<tr><td colspan='"+$("#list_th_obj2").children().length+"' class='no_text' style='text-align:center;'>조회된 데이터가 없습니다.</td></tr>");					}	           	           }else{		        	alert(data.TRS_MSG);		        	//top.location.href="<%=RequestURL%>";		        		           }					          	$("#pstate").val("R");	          	CmcloseLoading();	        }		});		}	//TODO : AbdREListToHtml	function AbdREListToHtml(res_data){		var hi=0;		var hj=0;		var list_html = "";		var desc_html = "";		var arti_No = 0;		var rows = res_data.rows;		for(hi=0;hi<rows.length;hi++){			//console.log(rows[hi]);			list_html = "<tr>";						arti_No=  parseInt(res_data.records,10) - hi;			//console.log("res_data.record:"+res_data.records+":res_data.page:"+res_data.page+":$(#show_rows).val():"+$("#show_rows").val()+":hi:"+hi);			list_html = list_html+"<td class=\"resp\">"+(arti_No)+"</td>"; 					list_html = list_html+"<td class=\"subject\" id=\"b_title_dot\" >";						      	if("<%=userId%>"== rows[hi].reg_id){		      			list_html = list_html+"<a href=\"#\" onclick=\"Go_ViewRE('"+rows[hi].data_seqno+"');return false;\">";			      	}else{			      		list_html = list_html+"<a href=\"#\"   onclick=\"Go_ViewRECaution('"+rows[hi].data_origin_no+"');return false;\">";			      					      	}			      				      	list_html = list_html+""+cutStr(rows[hi].data_title.replace(/&amp;amp;/gi,"&"),67);			      					    list_html = list_html+"</a>"		     		  // 현재일자와 등록일자 차이가 14일 이내이면 new이미지를 보여준다			      	  if(parseInt(StrreplaceAll("<%=curDate%>","-",""),10) < parseInt(getadddate(StrreplaceAll(rows[hi].reg_dt,"-",""),"+", 7),10)){			    	  	  list_html = list_html+"<span class='icon_new'>새글</span>";				      	  }			      			list_html = list_html+"</td>";			list_html = list_html+"<td class=\"resp add\">";			      	if(rows[hi].file_nms!="" && rows[hi].file_nms!=null){			      	  //console.log("3333333333333333333:"+rows[hi].file_nms);				      var file_nms_arr = rows[hi].file_nms.split("::");				      var file_seq_arr = rows[hi].file_seq.split("::");				      var fext = "";  // 파일 확장자				      // console.log("444444444444444444444");				      if(file_nms_arr != null){				    	  for(j=0;j<file_nms_arr.length;j++){					    		  if(file_nms_arr[j]!=""){				    			  fext = file_nms_arr[j].substring(file_nms_arr[j].lastIndexOf(".")+1).toLowerCase();				    			  list_html = list_html+"<a href=\"#\" class=\"attach\" onclick=\"return false;\" title="+file_nms_arr[j]+"파일다운로드>";				        				    			  // 엑셀				    			  if(fext=="xls" || fext=="xlsx"){				    				  list_html = list_html+"엑셀파일";				    			  // pdf				    			  }else if(fext=="pdf"){				    				  list_html = list_html+"pdf파일</span>";				        		  // doc				    			  }else if(fext=="doc" || fext=="docs"){   				    				  list_html = list_html+"워드파일</span>";				            	  // ppt				    			  }else if(fext=="ppt" || fext=="ppts"){ 				    				  list_html = list_html+"ppt파일</span>";				        	      // pdf				    			  }else if(fext=="hwp"){    				  				    				  list_html = list_html+"pdf파일</span>";				      			  // else				    			  }else {    				  				    				  list_html = list_html+"파일";			  		  	  	  	  }								  				    			  list_html = list_html+"</a>";								  				    		  }				    	  }// for 문 종료				      }			      }			list_html = list_html+"</td>";			      					  <%				  //작성일				  	out.println("	  list_html = list_html+\"<td class=\\\"date\\\">\"+rows[hi].reg_dt+\"</td>\";");   				  				  // 작성자					out.println("	  list_html = list_html+\"<td class=\\\"resp_1000\\\">\"+masking_name(rows[hi].reg_id_nm)+\"</td>\";");				  				  //조회수				  	out.println("	  list_html = list_html+\"<td class=\\\"resp_1000\\\">\"+rows[hi].inq_cnt+\"</td>\";");   				%>				  			list_html = list_html+"</tr>";			  			    				//desc_html = rows[hi].data_desc.replace(/&lt;/gi,"<")				//desc_html = desc_html.replace(/&gt;/gi,">");				//desc_html = desc_html.replace(/&amp;/gi,"&");								$("#list_data_obj2").append(list_html);									}// FOR 종료			}			function getadddate(datestr,flag, num){		var iyyyy = parseInt(datestr.substring(0,4),10);		var imm	  = parseInt(datestr.substring(4,6),10);		var idd	  = parseInt(datestr.substring(6,8),10);			var ret_date = new Date();		//console.log(iyyyy+"::"+imm+"::"+idd);		if(flag=="+"){			ret_date = new Date(iyyyy,imm,idd+num);			//console.log("ret_date+::"+ret_date);		}else{			ret_date = new Date(iyyyy,imm,idd-num);			//console.log("ret_date-::"+ret_date);		}		//console.log("ret_date  ::"+ret_date.getYear()+"::"+(ret_date.getMonth()+1)+"::"+ret_date.getDate());		return ret_date.getFullYear()+""+(ret_date.getMonth()>9?ret_date.getMonth():"0"+ret_date.getMonth())+""+(ret_date.getDate()>9?ret_date.getDate():"0"+ret_date.getDate());	}		// 파일정보를 가지고 파일객체 셋팅하는 문자열생성	function getFileHtmlArray(file_seqno, file_nm) {		 var rtn_str = "";			var file_seqno_sp = new Array();			var file_nm_sp = new Array();			var tmp_arr = {};			var rtn_arr = new Array();			var fi = 0;			if(file_seqno!=""){				rtn_str = "[";				file_seqno_sp = file_seqno.split(",");				file_nm_sp = file_nm.split(",");				for(fi=0;fi<file_seqno_sp.length;fi++){					rtn_str += "{";					rtn_str += "file_seqno";					rtn_str += ":";					rtn_str += "\""+file_seqno_sp[fi]+"\"";					rtn_str += ",";					rtn_str += "file_nm";					rtn_str += ":";					rtn_str += "\""+file_nm_sp[fi]+"\"";					rtn_str += "}";										tmp_arr = {};					tmp_arr['file_seqno'] = file_seqno_sp[fi];					tmp_arr['file_nm'] = file_nm_sp[fi];										rtn_arr.push(tmp_arr); 					if(fi< file_seqno_sp.length-1){						rtn_str += ",";					}				}				rtn_str += "]";			}				 //return rtn_str;		 return rtn_arr;	}		//]]></script>